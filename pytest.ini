[pytest]
# Configuration pytest pour les tests du projet

# Répertoires de test
testpaths = tests

# Options par défaut
addopts = 
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    
# Marqueurs personnalisés
markers =
    unit: Tests unitaires rapides
    integration: Tests d'intégration (plus lents)
    performance: Tests de performance et charge
    evaluation: Tests d'évaluation RAGAS (très lents)
    slow: Tests lents (> 5 secondes)
    api: Tests de l'API
    indexer: Tests de l'indexeur
    rag: Tests du système RAG
    automated: Tests automatisés pour CI/CD

# Ignore les warnings de dépréciations
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Couverture de code
[coverage:run]
source = src
omit = 
    */tests/*
    */venv/*
    */__pycache__/*
    */site-packages/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
    if TYPE_CHECKING:
    @abstractmethod
